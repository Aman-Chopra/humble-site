(function(l,n,C){l.execute(function(){l.when("A","jQuery","ready").register("DeliveryCountdownComponent",function(e,d){function h(e,d,f,c,m){this.strings=e;this.asin=d;this.deliveryMessageSectionId=f;this.countdownElementId=c;this.secondsLeft=m;this.intervalHandle=null}n.DeliveryCountdownHandler=function(e){var d=e.strings,f=e.asin,c=e.deliveryMessageSectionId,m=e.fastCountdownElementId,b=e.cheapCountdownElementId;this.cheapCountdownTimer=this.fastCountdownTimer=null;this.start=function(e,g){0<e&&
(this.fastCountdownTimer=new h(d,f,c,m,e),this.fastCountdownTimer.start());0<g&&(this.cheapCountdownTimer=new h(d,f,c,b,g),this.cheapCountdownTimer.start())};this.stop=function(){this.fastCountdownTimer&&(this.fastCountdownTimer.stop(),this.fastCountdownTimer=null);this.cheapCountdownTimer&&(this.cheapCountdownTimer.stop(),this.cheapCountdownTimer=null)}};h.prototype.start=function(){var d=this;this.intervalHandle=e.interval(function(){d&&d.updateCountdownText()},1E3)};h.prototype.stop=function(){this.intervalHandle&&
n.clearInterval(this.intervalHandle)};h.prototype.updateCountdownText=function(){this.secondsLeft--;if(0<this.secondsLeft){var e=Math.floor(this.secondsLeft/60),k=e%60,e=Math.floor(e/60),f=this.secondsLeft%60,c=this.strings.inNext,m=1<e?this.strings.hours:this.strings.hour,b=1<k?this.strings.minutes:this.strings.minute,q=1<f?this.strings.seconds:this.strings.second,p=this.strings.timeSeperator,k=0<e&&0<k?e+p+m+p+k+p+b+p+c:0<e&&0===k?e+p+m+c:0===e&&0<k?k+p+b+c:f+p+q+c;d(this.countdownElementId).html(k)}else this.stop(),
k="<a href='javacript:window.location.reload();'>"+this.strings.refreshTimeout+"</a>",d(this.deliveryMessageSectionId).html(k)}});l.when("A","jQuery","LUXContext").register("LUXController",function(e,d,h){function g(){return{addressLabel:b,addressId:q,obfuscatedId:p,countryCode:a,zipCode:w,state:v,city:t,district:r,locationType:u}}function k(c){b=c.addressLabel;q=c.addressId;p=c.obfuscatedId;a=c.countryCode;w=c.zipCode;v=c.state;t=c.city;r=c.district;u=c.locationType}function f(a,b,c){a=e.copy(a);
a.deviceType=h.deviceType;a.pageType=m;e.post("/gp/delivery/ajax/address-change.html",{contentType:"application/x-www-form-urlencoded;charset=utf-8",params:a,success:function(a){if(a.sembuUpdated)if(a.address&&k(a.address),h.fullPageRefresh)l.when("LUXMetrics").execute(function(a){a.logLocationChange(d.locationType)}),n.location.reload();else{var d=g();e.trigger("DeliveryAddressDropdown_OnSembuUpdateSuccess",d);e.trigger("DeliveryAddressDropdown_OnAddressChange",d);b&&b();l.when("LUXMetrics").execute(function(a){a.logLocationChange(d.locationType)})}else c&&
c()},error:function(){e.trigger("DeliveryAddressDropdown_OnSembuUpdateFail",g());c&&c()}})}var c=!1,m=null,b,q,p,a,w,v,t,r,u;return{locationChangeEventName:"DeliveryAddressDropdown_OnAddressChange",locationTypes:{defaultAddress:"DEFAULT_ADDRESS",accountAddress:"ACCOUNT_ADDRESS",lockerAddress:"LOCKER_ADDRESS",locationInput:"LOCATION_INPUT",realmDefault:"REALM_DEFAULT",region:"REGION",country:"COUNTRY",ip2location:"IP2LOCATION"},init:function(a){l.when("LUXResponder").execute(function(b){c?e.equals(a,
g())||(k(a),b.refresh()):(k(a),b.activate(),c=!0)});l.when("LUXCustom").execute(function(a){a.activate()});l.when("LUXMetrics").execute(function(a){m=a.getPageType()})},getLocationData:function(){return g()},changeLocation:function(a,b,c){f(a,b,c)}}});l.when("A","LUXDPOnly").register("LUXDPRefreshController",function(e){function d(e){b=e;h({addressId:b.addressId,zipCode:b.zipCode,city:b.city,state:b.state,district:b.district,countryCode:b.countryCode,relatedRequestId:b.relatedRequestId});var a={asin:b.asin,
merchantId:b.merchantId,deviceType:b.deviceType,smid:b.smid,wdg:b.wdg,exMerchId:b.exMerchId,oneClick:b.oneClick};"T1"===b.useTwisterRefresh&&l.when("TwisterUpdateHandler").execute(function(b){b.init(a);c=!0;m=b});l.when("UnifiedLocationUpdateHandler").execute(function(b){c||(b.init(a),m=b)});g(b.obfuscatedId);k(b.obfuscatedId)}function h(b){var a=1;1===f("#quantity").length&&(a=f("#quantity").val());e.state("unifiedLocation",{addressId:b.addressId,zipCode:b.zipCode,city:b.city,state:b.state,district:b.district,
countryCode:b.countryCode,quantity:a,relatedRequestId:b.relatedRequestId})}function g(c){if(b&&b.oneClick){var a="unifiedLocation1ClickAddress";b.deviceType&&"mobileApp"===b.deviceType&&(a="addressID");c||(c=f("#"+a).data("addnewaddress"));a='[id="'+a+'"]';0<f(a).length&&f(a).val(c);if(b.deviceType&&b.deviceType in q&&(a=e.state("buyNowInfo"))){var d=a.urlParams,d=0<d.indexOf("addressID=")?d.replace(/(addressID=)[^&]*/,"$1"+c):d+"&addressID="+c;a.urlParams=d;e.state("buyNowInfo",a)}}}function k(c){b&&
!b.oneClick&&"T1"===b.updateAddressForNon1Click&&(c||(c=f("#unifiedLocationAddress").data("addnewaddress")),1===f("#unifiedLocationAddress").length&&f("#unifiedLocationAddress").val(c))}var f=e.$,c=!1,m=null,b=null,q={tabletApp:1,tabletLargeApp:1,iPad:1};e.on("DeliveryAddressDropdown_OnAddressChange",function(b){var a=e.state("unifiedLocation")?e.state("unifiedLocation").relatedRequestId:C;b.relatedRequestId=a;h(b);g(b.obfuscatedId);k(b.obfuscatedId);null!==m&&(m.refresh(),c||e.trigger("LocationUX_OnAddressChange",
b))});e.on("UnifiedLocationPostRefresh",function(){e.trigger("diodeAjaxRefreshed")});return{init:function(b){d(b)}}});l.when("A","detailPage:RefreshHandler","LUXDPOnly","a-state").execute(function(e,d){l.register("TwisterUpdateHandler",function(){return{init:function(d){e.state("unifiedLocation",d)},refresh:function(){var h=d.getHandlerInstance("LocationUX"),g=[],k="addressId zipCode city state district countryCode relatedRequestId".split(" ");if(h){var f=e.state("unifiedLocation"),c;for(c in f)if(f.hasOwnProperty(c)&&
-1<e.$.inArray(c,k)){var m=typeof f[c];("number"===m||"boolean"===m||"string"===m||f[c]instanceof String)&&g.push(h.getURLParamObject(c,null===f[c]?"":f[c],1))}}0<g.length&&h.doPageRefresh(g)}}})});l.when("A","LUXDPOnly","a-state").execute(function(e){l.register("UnifiedLocationUpdateHandler",function(){return{init:function(c){e.state("unifiedLocation",c)},refresh:function(){d=2;h()}}});var d=0,h=function(){var c=e.state("unifiedLocation");c.urlParams=JSON.stringify(c.urlParams);for(var d in c)if(c.hasOwnProperty(d)){var b=
typeof c[d];"number"===b||"boolean"===b||"string"===b||c[d]instanceof String||(null===c[d]?c[d]="":delete c[d])}c&&c.asin&&c.merchantId&&(e.trigger("UnifiedLocationPreRefresh"),e.ajax("/gp/product/features/unified-location/udp/refresh-features.html?_encoding=UTF-8",{params:c,method:"POST",success:g,error:k,abort:f}))},g=function(){e.trigger("UnifiedLocationPostRefresh",!0)},k=function(){e.trigger("UnifiedLocationPostRefresh",!1);0<--d&&h()},f=function(c){e.trigger("UnifiedLocationPostRefresh",!1)}});
l.when("A","jQuery","a-popover","ready").execute(function(e,d,h){function g(g){var f=!1,c=g.selectedZipCode,m=g.selectedState,b=g.selectedCity,q=g.selectedDistrict,p=g.locationMaxLength,a=g.addressPopover,w=this;w.isNewFilterExperience=!1;this.init=function(){f||(f=!0,n())};var n=function(){y();d(document).delegate("#ddmZipCodeInput","focus",function(a){r()});d(document).undelegate("#ddmZipCodeUpdateBtn").delegate("#ddmZipCodeUpdateBtn","click",function(a){(a=d("#ddmZipCodeInput").val())&&a.match(/^[1-9]\d{5}$/)?
d.ajax({type:"POST",url:"/gp/delivery/ajax/validate-zipcode.html",contentType:"application/x-www-form-urlencoded;charset=utf-8",data:{zipCode:a},dataType:"json",success:function(a){if(a&&1===a.isValidZipCode){r();var f=a.state,g=a.city,k=a.district;c=a.zipCode;m=f;b=g;q=k;w.isNewFilterExperience||(f="<b>"+c+"</b>",b&&(g=c.length,k=b.length,0===p||g+k<=p)&&(f=f+"&nbsp;-&nbsp;"+b),d("#ddmAddressPopoverTrigger").find("span.ddm-trigger-text").html(f),u(),d("#ddmZipCodeInput").val(""),x(),z("DeliveryAddressDropdown_OnAddressChange"));
w.isNewFilterExperience&&e.trigger("DeliveryAddressDropdown_ZipCodeValidateSuccess",{district:a.district,city:a.city,state:a.state,zipCode:a.zipCode})}else t()},error:function(){t()}}):t()})},t=function(){w.isNewFilterExperience&&e.trigger("DeliveryAddressDropdown_ZipCodeValidateFail");d("#ddmZipCodeInput").addClass("a-form-error");d("#ddmInvalidZipCodeAlert").removeClass("a-hidden")},r=function(){d("#ddmZipCodeInput").removeClass("a-form-error");d("#ddmInvalidZipCodeAlert").addClass("a-hidden")},
u=function(){d.ajax({type:"POST",url:"/gp/delivery/ajax/update-sembu.html",contentType:"application/x-www-form-urlencoded;charset=utf-8",data:{zipCode:c,state:m,city:b,district:q},dataType:"json",success:function(){z("DeliveryAddressDropdown_OnSembuUpdateSuccess")},error:function(){z("DeliveryAddressDropdown_OnSembuUpdateFail")}})},x=function(){var b=a.name,c=a.type;"a-secondary-view"===c?l.when("a-secondary-view").execute(function(a){a.get(b)&&a.get(b).hide()}):"a-modal"===c?l.when("a-modal").execute(function(a){a.get(b)&&
a.get(b).hide()}):h.get(b)&&h.get(b).hide()},z=function(a){e.trigger(a,{zipCode:c,state:m,city:b,district:c})},y=function(){var a=e.state("sx-mobile-filter-config");!e.objectIsEmpty(a)&&a.hasOwnProperty("enableAllFilters")&&(w.isNewFilterExperience="true"===a.enableAllFilters.toLowerCase(),e.off("DeliveryAddressDropdown_UpdateZipCode"),e.on("DeliveryAddressDropdown_UpdateZipCode",u))}}l.register("DeliveryAddressDropdown",function(){return{init:function(e){(new g(e)).init()}}})});l.when("A","jQuery",
"LUXContext","LUXWidgetConfig","LUXUtils","LUXController","LUXMetrics","ready").register("LUXResponder",function(e,d,h,g,k,f,c){function m(a){var b=null;1===a?(d("#unifiedLocationAddrInput").addClass("a-form-error"),d("#LUXInvalidZipCodeAlert").width(d("#LUXInvalidZipCodeAlert").parent().width()).removeClass("aok-hidden"),d("#LUXMilitaryZipCodeAlert").addClass("aok-hidden"),b=d("#LUXInvalidZipCodeAlert")[0]):2===a?(d("#unifiedLocationAddrInput").removeClass("a-form-error"),d("#LUXInvalidZipCodeAlert").addClass("aok-hidden"),
d("#LUXMilitaryZipCodeAlert").width(d("#LUXMilitaryZipCodeAlert").parent().width()).removeClass("aok-hidden"),b=d("#LUXMilitaryZipCodeAlert")[0]):3===a&&(d("#unifiedLocationAddrInput").removeClass("a-form-error"),d("#LUXInvalidZipCodeAlert").addClass("aok-hidden"),d("#LUXMilitaryZipCodeAlert").addClass("aok-hidden"));e.capabilities.tablet&&b&&(document.activeElement.blur(),b.scrollIntoView())}function b(a){d(".lux-location-label").html(k.generateLocationLabel(a))}function q(a){a.locationType===f.locationTypes.locationInput&&
a.zipCode?d("#unifiedLocationAddrInput").val(a.zipCode):d("#unifiedLocationAddrInput").val("");p();m(3)}function p(){e.capabilities.tablet&&(d("#unifiedLocationAddrInput").val()?d("#unifiedLocationAddrInput").removeAttr("placeholder"):d("#unifiedLocationAddrInput").attr("placeholder",F))}function a(a){for(var b=k.mapLocationDataToCode(a),c=d("#LUXCountrySelections .a-declarative"),g=c.length-1;0<=g;g--)e.parseJSON(c[g].getAttribute("data-lux-country-selection")).value===b?d(".a-touch-link",c[g]).addClass("a-active"):
d(".a-touch-link",c[g]).removeClass("a-active");(c=d("#unifiedLocationCountrySelectionLink div")[0])&&c.childNodes[1]&&(a.locationType===f.locationTypes.country||a.locationType===f.locationTypes.region||a.locationType===f.locationTypes.ip2location&&!a.state?(a=k.getNameForCode(b),c.childNodes[1].textContent=a):c.childNodes[1].textContent=A)}function w(a){f.changeLocation(a.data,null,null)}function v(a){f.changeLocation(k.mapCodeToLocationData(a.data.value),null,null)}function t(){var a=d("#unifiedLocationAddrInput").val();
k.validateZipCode(a)?f.changeLocation({zipCode:k.preprocessZipCode(a),locationType:f.locationTypes.locationInput},function(){m(3)},function(){m(1)}):k.isMilitaryZipCode(a)?m(2):m(1)}function r(){l.when(g.addressSelectorComponentType).execute(function(a){a.get(g.addressSelectorComponentName)&&a.get(g.addressSelectorComponentName).hide()});l.when(g.countrySelectorComponentType).execute(function(a){a.get(g.countrySelectorComponentName)&&a.get(g.countrySelectorComponentName).hide()})}function u(){var a=
d("#unifiedLocationPopoverSelections ul li").has("span .a-touch-link.a-touch-select"),b=d("#unifiedLocationPopoverSelections ul li").has(".aok-hidden span .a-touch-link.a-touch-select"),a=a.length===b.length;b.slice(0,a?g.initialAddressLoadCount:g.addressReloadCount).removeClass("aok-hidden");d("#unifiedLocationPopoverSelections ul li").has(".aok-hidden span .a-touch-link.a-touch-select").length?d("#unifiedLocationSeeMore").removeClass("aok-hidden"):d("#unifiedLocationSeeMore").addClass("aok-hidden");
e.capabilities.tablet&&l.when("a-modal").execute(function(a){a.get(g.addressSelectorComponentName)&&a.get(g.addressSelectorComponentName).updatePosition()});a||c.logEvent(c.getEvents().click.seeMore)}function x(c){b(c);for(var f=d("#unifiedLocationPopoverSelections ul li .a-declarative").has(".a-touch-link.a-touch-select"),g=c.addressId,p=f.length-1;0<=p;p--)e.parseJSON(f[p].getAttribute("data-lux-address-selection")).addressId===g?d(".a-touch-link",f[p]).addClass("a-active"):d(".a-touch-link",f[p]).removeClass("a-active");
q(c);k.shouldPopulateCountrySelector()&&a(c);r()}function z(){0===d("#LUXCountrySelections .a-declarative").length&&e.post("/gp/delivery/ajax/get-country-selections.html",{contentType:"application/x-www-form-urlencoded;charset=utf-8",params:k.prepareCountrySelectionGeneratorInput(),success:function(b){d("#LUXCountrySelections").html(b);e.capabilities.tablet&&l.when("a-modal").execute(function(a){a.get(g.countrySelectorComponentName)&&a.get(g.countrySelectorComponentName).updatePosition()});a(f.getLocationData())}});
c.logWidgetView(c.getEvents().view.countrySelector)}function y(){var a=f.getLocationData();q(a);e.capabilities.tablet&&d("#a-popover-lgtbox")&&d("#a-popover-lgtbox").css({position:"absolute",top:"0px",left:"0px",width:"100%",height:d("#a-page").css("height")});c.logWidgetView(c.getEvents().view.addressSelector)}function B(){var a=f.getLocationData();h.isRecognizedCustomer&&0===d("#unifiedLocationPopoverSelections ul li").has("span .a-touch-link.a-touch-select").length&&e.get("/gp/delivery/ajax/get-address-selections.html",
{params:{currentAddressId:a.addressId,deviceType:h.deviceType},success:function(a){a&&(d("#unifiedLocationTitleNoAddress").addClass("aok-hidden"),d("#unifiedLocationTitleSelectAddress").removeClass("aok-hidden"),d("#unifiedLocationPopoverSelections ul li").first().before(a),u(),d("#unifiedLocationSeeMoreDiv").removeClass("aok-hidden"))}})}function D(){e.capabilities.tablet&&document.activeElement.blur()}var A=null,F=null;return{activate:function(){var h=f.getLocationData();c.logPageView(h.locationType);
var G=d("#unifiedLocationCountrySelectionLink div")[0];A=G&&G.childNodes[1]?G.childNodes[1].textContent:"";F=d("#unifiedLocationAddrInput").attr("placeholder");h.locationType===f.locationTypes.region&&b(h);e.on("a:popover:beforeShow:"+g.addressSelectorComponentName,y);e.on("a:popover:show:"+g.addressSelectorComponentName,B);e.on("a:popover:afterHide:"+g.addressSelectorComponentName,D);k.shouldPopulateCountrySelector()&&(e.on("a:popover:beforeShow:"+g.countrySelectorComponentName,z),a(h));e.on(f.locationChangeEventName,
x);e.declarative("lux-address-selection",["click"],w);q(h);d(document).delegate("#unifiedLocationAddrInput","keypress",function(a){13===a.which&&t()});d(document).delegate("#unifiedLocationAddrInput","focus",function(){m(3)});d(document).delegate("#unifiedLocationAddrInput","keyup",function(){p()});d(document).delegate("#unifiedLocationAddrUpdate","click",t);d(document).delegate("#unifiedLocationSignIn","click",function(){var a=!0;e.capabilities.mobile&&l.now("mash").execute(function(b){b&&(a=!1,
b.navstack.begin().back().end(),b.showLoginDialog({successCallback:function(){b.navstack.begin().back().forward(n.location.href).end()}}))});if(a){var b=g.signInURL+n.location.pathname;"SearchAW"===c.getPageType()&&(b+=n.location.search);n.location.href=b}c.logEvent(c.getEvents().click.signIn)});d(document).delegate("#unifiedLocationSeeMore","click",u);d(document).delegate(".lux-manage-address-link","click",function(a){c.logEvent(c.getEvents().click.manageAddressBook);return!0});e.declarative("lux-country-selection",
["click"],v);e.capabilities.tablet&&d.isFunction(e.on.orientationchange)&&(n.scrollBy(0,1),e.on.orientationchange(function(){l.when("a-modal").execute(function(a){a.get(g.addressSelectorComponentName)&&a.get(g.addressSelectorComponentName).isActive()&&a.get(g.addressSelectorComponentName).refresh();a.get(g.countrySelectorComponentName)&&a.get(g.countrySelectorComponentName).isActive()&&a.get(g.countrySelectorComponentName).refresh()})}))},refresh:function(a){x(f.getLocationData())}}});l.declare("LUXWidgetConfig",
{addressSelectorComponentName:"LUXAddressSelector",addressSelectorComponentType:"a-secondary-view",countrySelectorComponentName:"LUXCountrySelector",countrySelectorComponentType:"a-secondary-view",initialAddressLoadCount:5,addressReloadCount:1E3,signInURL:"/gp/aw/si.html?ie=UTF8&destinationURL="});l.when("A","jQuery","LUXController","RegionNames","ready").register("LUXRegionData",function(e,d,h,g){function k(c){if(e.objectIsEmpty(c)||!c.countryCode||!c.zipCode)return null;for(var d in f)if(f.hasOwnProperty(d)&&
e.reduce(f[d],function(b,g,p){return b&&!e.objectIsEmpty(c[p])&&e.equals(c[p],f[d][p])},!0))return d;return null}var f={"GB-ML":{countryCode:"GB",zipCode:"KA10 6EB"},"GB-NI":{countryCode:"GB",zipCode:"BT1 3ES"},"GB-JE":{countryCode:"GB",zipCode:"JE2 4QA"},"GB-IS":{countryCode:"GB",zipCode:"ZE1 0BX"},"GB-BF":{countryCode:"GB",zipCode:"BFPO 204"},"GB-HI":{countryCode:"GB",zipCode:"PH41 4PU"},"DE-ML":{countryCode:"DE",zipCode:"60313"},"DE-GI":{countryCode:"DE",zipCode:"27498"},"FR-ML":{countryCode:"FR",
zipCode:"75001"},"FR-CH":{countryCode:"FR",zipCode:"20000"},"FR-GP":{countryCode:"FR",zipCode:"97100"},"FR-GY":{countryCode:"FR",zipCode:"97300"},"FR-MC":{countryCode:"FR",zipCode:"98000"},"FR-MQ":{countryCode:"FR",zipCode:"97200"},"FR-NC":{countryCode:"FR",zipCode:"98800"},"FR-PF":{countryCode:"FR",zipCode:"98700"},"FR-RE":{countryCode:"FR",zipCode:"97400"},"FR-SB":{countryCode:"FR",zipCode:"97133"},"FR-SM":{countryCode:"FR",zipCode:"97150"},"FR-SP":{countryCode:"FR",zipCode:"97500"},"FR-WF":{countryCode:"FR",
zipCode:"98611"},"FR-YT":{countryCode:"FR",zipCode:"97600"},"IT-ML":{countryCode:"IT",zipCode:"20125"},"IT-II":{countryCode:"IT",zipCode:"09121"},"ES-ML":{countryCode:"ES",zipCode:"28004"},"ES-BI":{countryCode:"ES",zipCode:"07003"},"ES-CI":{countryCode:"ES",zipCode:"35005"},"BR-SP":{countryCode:"BR",zipCode:"01319900"}};return{getRegions:function(){return f},mapLocationDataToRegionCode:function(c){return k(c)},mapRegionCodeToLocationData:function(c){c=f.hasOwnProperty(c)?d.extend({},{addressLabel:g[c],
countryCode:f[c].countryCode,zipCode:f[c].zipCode,state:f[c].state,city:f[c].city,locationType:h.locationTypes.region}):null;return c}}});l.when("A","jQuery","ready").register("LUXRegionConfig",function(e,d){var h=[],g=[],k=/^[1-9]\d{5}$/,f=/(?!.*)/;return{getPrimarySelections:function(){return h},getSecondarySelections:function(){return g},getZipCodePattern:function(){return k},getMilitaryZipCodePattern:function(){return f},preprocessZipCode:function(c){return c.toUpperCase().trim()}}});l.declare("RegionNames",
{"GB-ML":"UK - Mainland","GB-BF":"UK - BFPO","GB-JE":"UK - Channel Islands","GB-IS":"UK - Islands","GB-NI":"UK - Northern Ireland","GB-HI":"UK - Scottish Highlands","DE-ML":"Germany - Mainland","DE-GI":"German Islands","FR-ML":"France - Mainland","FR-CH":"Corsica","FR-GP":"Guadeloupe","FR-GY":"Guyane","FR-MC":"Monaco","FR-MQ":"Martinique","FR-NC":"New Caledonia","FR-PF":"French Polynesia","FR-RE":"Reunion","FR-SB":"Saint Barthélemy","FR-SM":"Saint Martin","FR-SP":"Saint Pierre and Miquelon","FR-WF":"Wallis and Futuna Islands",
"FR-YT":"Mayotte","IT-ML":"Italy - Mainland","IT-II":"Italian Islands","ES-ML":"Spain - Mainland","ES-BI":"Spain - Balearic Islands","ES-CI":"Spain - Canary Islands, Ceuta and Melilla","BR-SP":"Brazil"});l.declare("CountryNames",{AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AN:"Netherlands Antilles",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"Aland Islands",AZ:"Azerbaijan",
BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthelemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Saint Eustatius and Saba",BR:"Brazil",BS:"Bahamas, The",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Ivory Coast (Côte D'ivoire)",
CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CS:"Serbia and Montenegro",CU:"Cuba",CV:"Cape Verde",CW:"Curaçao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica, Commonwealth of",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Micronesia, Federated States of",FO:"Faroe Islands",
FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia, The",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and the McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland, Republic of",IL:"Israel",IM:"Isle of Man",
IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran, Islamic Republic of",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Lao, People's Democratic Republic",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",
LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova, Republic of",ME:"Montenegro",MF:"Saint Martin",MG:"Madagascar",MH:"Marshall Islands",MK:"Macedonia, The Former Yugoslav Republic of",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",
NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestinian Territories",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russian Federation",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",
SG:"Singapore",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"East Timor",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",
TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania, United Republic of",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, US",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",YU:"Yugoslavia",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"});l.when("A","jQuery","LUXController","LUXRegionData",
"LUXRegionConfig","LUXContext","CountryNames","RegionNames").register("LUXUtils",function(e,d,h,g,k,f,c,m){function b(a){return!e.objectIsEmpty(a)&&a.countryCode&&c.hasOwnProperty(a.countryCode)?e.equals(a.locationType,h.locationTypes.country)?a.countryCode:e.equals(a.locationType,h.locationTypes.region)?g.mapLocationDataToRegionCode(a):g.mapLocationDataToRegionCode(a)||a.countryCode:null}function q(a){return c.hasOwnProperty(a)?c[a]:m.hasOwnProperty(a)?m[a]:null}function p(a){var b={};if(!e.objectIsEmpty(a))for(var c=
a.length,d=0;d<c;d++)b[q(a[d])]=a[d];return b}return{getNameForCode:function(a){return q(a)},mapCodeToLocationData:function(a){a=a?c.hasOwnProperty(a)?{countryCode:a,locationType:h.locationTypes.country}:g.mapRegionCodeToLocationData(a):null;return a},mapLocationDataToCode:function(a){return b(a)},generateLocationLabel:function(a){var c="";return c=a.addressLabel?a.addressLabel:a.locationType!==h.locationTypes.region&&a.locationType!==h.locationTypes.country&&(a.city||a.state)&&a.zipCode?(a.city?
a.city+", ":"")+(a.state?a.state+" ":"")+a.zipCode:q(b(a))},prepareCountrySelectionGeneratorInput:function(){return{deviceType:f.deviceType,primarySelections:JSON.stringify(p(k.getPrimarySelections())),primarySelectionsOrder:JSON.stringify(k.getPrimarySelections()),secondarySelections:JSON.stringify(p(k.getSecondarySelections()))}},validateZipCode:function(a){return!e.objectIsEmpty(a)&&k.getZipCodePattern().test(a.toUpperCase())},preprocessZipCode:function(a){return k.preprocessZipCode(a)},isMilitaryZipCode:function(a){return!e.objectIsEmpty(a)&&
k.getMilitaryZipCodePattern().test(a.toUpperCase())},shouldPopulateCountrySelector:function(){var a=!0;"undefined"!==typeof f.shouldPopulateCountrySelector&&(a=f.shouldPopulateCountrySelector);return a}}});l.when("A","jQuery","LUXContext","ready").register("LUXMetrics",function(e,d,h){function g(b,c){n.ueLogError&&b&&n.ueLogError({message:b},{logLevel:c||"ERROR",attribution:"LocationUX"})}function k(b){n.ue?n.ue.count(b,(n.ue.count(b)||0)+1):g("Failed to increment metrics counter: "+b+" because window.ue is not present.",
"ERROR")}function f(){var b;if(b=n.ue_pty)a:{b=n.ue_pty;for(var d in c)if(c.hasOwnProperty(d)&&-1!==e.indexOfArray(c[d],b)){b=!0;break a}b=!1}return b?n.ue_pty:"unrecognizedPage"}var c={detail:["Detail","DetailAW","DetailWebView","TabletUDP"],search:["Search","SearchAW"],offerListing:["OfferListing","OfferListingAW","OfferListingMobileAppAW"]},m={click:{signIn:"click.signIn",seeMore:"click.seeMore",manageAddressBook:"click.manageAddressBook"},view:{page:"view.page",addressSelector:"view.addressSelector",
countrySelector:"view.countrySelector"},selection:"selection",override:"override"};return{getPageType:function(){return f()},getEvents:function(){return m},logLocationChange:function(b){l.when("LUXController").execute(function(d){var g=f(),a="LocationUX."+g,a=e.equals(b,d.locationTypes.locationInput)||e.equals(b,d.locationTypes.realmDefault)||e.equals(b,d.locationTypes.ip2location)?a+("."+m.override+"."+b):a+("."+m.selection+"."+b);e.equals(b,d.locationTypes.defaultAddress)||e.equals(b,d.locationTypes.accountAddress)||
e.equals(b,d.locationTypes.lockerAddress)||(a+="."+(h.isRecognizedCustomer?"recognized":"unrecognized"));-1!==e.indexOfArray(c.detail,g)&&h.isRecognizedCustomer&&(a+="."+(h.isOneClick?"1Click":"Non1Click"));k(a)})},logPageView:function(b){l.when("LUXController").execute(function(d){var g=f(),a="LocationUX."+g+"."+m.view.page+"."+b;e.equals(b,d.locationTypes.defaultAddress)||e.equals(b,d.locationTypes.accountAddress)||e.equals(b,d.locationTypes.lockerAddress)||(a+="."+(h.isRecognizedCustomer?"recognized":
"unrecognized"));-1!==e.indexOfArray(c.detail,g)&&h.isRecognizedCustomer&&(a+="."+(h.isOneClick?"1Click":"Non1Click"));k(a)})},logWidgetView:function(b){var d=f();b="LocationUX."+d+"."+b+"."+(h.isRecognizedCustomer?"recognized":"unrecognized");-1!==e.indexOfArray(c.detail,d)&&h.isRecognizedCustomer&&(b+="."+(h.isOneClick?"1Click":"Non1Click"));k(b)},logEvent:function(b){b="LocationUX."+f()+"."+b;k(b)},logError:function(b,c){g(b,c)}}})})})(function(){var l=window.AmazonUIPageJS||window.P,n=l._namespace||
l.attributeErrors;return n?n("DeliveryStatic"):l}(),window);